<app-loading [condition]="isLoading">
</app-loading>

<app-toast [message]="toast.message"></app-toast>
<button type="button" class="btn btn-primary btn-rounded" routerLink="/">Home</button>

<!-- <div class="container-fluid" *ngIf="me">
  <div class="row">
    <div class="mx-auto">
      <h1>Profil</h1>
      <hr/>
      <img class="imageUrl" src="https://github.com/{{ me.github }}.png" alt="Can't access">
    </div>
  </div>
  <div class="row">
    <div class="mx-auto">
      <h2>Prénom Nom : {{ me.name }} </h2>
      <h2>Email : {{ me.email }}</h2>
      <h2>Phone : {{ me.phone }}</h2>
      <h2>Github : {{ me.github }}</h2>
      <h2>Framework : {{ me.langageName }}</h2>
      <h2>Session : {{ me.session }}</h2>
      <!-- <h2>Palmarès : {{ me.palmares }}</h2>
      <h2>poste : {{ me.poste }}</h2>
      <h2>Spécialités : {{ me.specialites }}</h2> -->
    </div>
  </div>
</div> -->

<div class="container-fluid" *ngIf="student">
    <div class="row justify-content-start profil">
        <div class="col-md-3 col-sm-12 mx-auto photo">
            <img class="rounded-circle" src="{{ student.image }}" alt="photoDev">
        </div>
        <div class="col-md-8 col-sm-12 mx-auto">
            <div class="nameDev">
                <h1>{{ student.name }}</h1>
                <h2 class="poste">{{student.poste}}</h2>
            </div>
            <div class="specialities">
                <div class="row speciality">
                    <div class="col-sm-12">
                        <h3>Mes spécialités :</h3>
                    </div>
                </div>
                <ul class="list-inline keywords">
                    <li class="list-inline-item keyword">Javascript</li>
                    <li class="list-inline-item keyword">Angular</li>
                    <li class="list-inline-item keyword">VueJS</li>
                    <li class="list-inline-item keyword">MongoDB</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="row justify-content-start">
        <div class="col-md-3 col-sm-12 mx-auto">
            <div class="contact">
                <div class="row">
                    <div class="col-sm-12">
                        <h3>Me contacter :</h3>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 mx-auto">
                        <ul class="list-inline social-buttons">
                            <li class="list-inline-item linksocial">
                                <a href="{{ student.lienLinkedin }}" target="blank">
                                    <i class="fa fa-linkedin"></i>
                                </a>
                            </li>
                            <li class="list-inline-item linksocial">
                                <a href="https://github.com/{{ student.github }}" target="blank">
                                    <i class="fa fa-github"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <ul class="list-inline social-buttons">
                            <li class="list-inline-item">
                                <a href="mailto:{{ student.email }}">
                                    <i class="fa fa-envelope"></i>
                                </a>
                            </li>
                            <li class="list-inline-item linksocial mail">{{ student.email }}</li>
                        </ul>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <ul class="list-inline social-buttons">
                            <li class="list-inline-item">
                                <a href="{{ student.phone }}">
                                    <i class="fa fa-phone" (click)="displayPhone()" *ngIf="!phone"></i>
                                </a>
                            </li>
                            <li class="list-inline-item linksocial phone" *ngIf="phone" >0608080808</li>
                        </ul>
                    </div>
                </div>
            </div>
            <!-- <div class="palmares" *ngIf="this.student.palmares.length !== 0">
                <div class="row">
                    <div class="col-sm-12 titleprojects">
                        <h3>Mon Palmarès :</h3>
                    </div>
                </div>
                <ul class="list-palmares">
                    <li class="title-palmares">Prix du Grand Vainqueur Hackathon mai 2018</li>
                    <li class="title-palmares">{{ student.palmares}}</li>
                </ul>
            </div> -->
        </div>
        <div class="col-md-8 col-sm-12 mx-auto">
            <div class="projets" id="portfolio">
                <div class="row">
                    <div class="col-sm-12 titleprojects">
                        <h3>Mes projets :</h3>
                    </div>
                </div>
                <div class="row projects">
                    <!-- <div class="portfolio-item" *ngFor="let blogProjet of blogProjets">
                    <a class="portfolio-link" [routerLink]="['/projetFront', blogProjet._id]" target="blank">
                        <div class="portfolio-hover">
                            <div class="portfolio-hover-content">
                                <i class="fa fa-chevron-down fa-3x"></i>
                            </div>
                        </div>
                        <img class="img-fluid" src="{{ blogProjet.imageUrl }}" alt="projet">
                    </a>
                </div> -->
                    <div class="col-md-4 col-sm-6 portfolio-item">
                        <a class="portfolio-link">
                            <div class="portfolio-hover">
                                <div class="portfolio-hover-content">
                                    <i class="fa fa-chevron-down fa-3x"></i>
                                </div>
                            </div>
                            <img class="img-fluid" src="http://images.toucharger.com/img/graphiques/fonds_d_ecran/nature__paysages/en_ete/paysage_montagnard.37032.jpg"
                                alt="projet">
                        </a>
                    </div>
                    <div class="col-md-4 col-sm-6 portfolio-item">
                        <a class="portfolio-link">
                            <div class="portfolio-hover">
                                <div class="portfolio-hover-content">
                                    <i class="fa fa-chevron-down fa-3x"></i>
                                </div>
                            </div>
                            <img class="img-fluid" src="http://images.toucharger.com/img/graphiques/fonds_d_ecran/nature__paysages/en_ete/paysage_montagnard.37032.jpg"
                                alt="projet">
                        </a>
                    </div>

                    <div class="col-md-4 col-sm-6 portfolio-item">
                        <a class="portfolio-link">
                            <div class="portfolio-hover">
                                <div class="portfolio-hover-content">
                                    <i class="fa fa-chevron-down fa-3x"></i>
                                </div>
                            </div>
                            <img class="img-fluid" src="http://images.toucharger.com/img/graphiques/fonds_d_ecran/nature__paysages/en_ete/paysage_montagnard.37032.jpg"
                                alt="projet">
                        </a>
                    </div>
                </div>
                <div class="row projects">
                    <div class="col-md-4 col-sm-6 portfolio-item">
                        <a class="portfolio-link">
                            <div class="portfolio-hover">
                                <div class="portfolio-hover-content">
                                    <i class="fa fa-chevron-down fa-3x"></i>
                                </div>
                            </div>
                            <img class="img-fluid" src="http://images.toucharger.com/img/graphiques/fonds_d_ecran/nature__paysages/en_ete/paysage_montagnard.37032.jpg"
                                alt="projet">
                        </a>
                    </div>
                    <div class="col-md-4 col-sm-6 portfolio-item">
                        <a class="portfolio-link">
                            <div class="portfolio-hover">
                                <div class="portfolio-hover-content">
                                    <i class="fa fa-chevron-down fa-3x"></i>
                                </div>
                            </div>
                            <img class="img-fluid" src="http://images.toucharger.com/img/graphiques/fonds_d_ecran/nature__paysages/en_ete/paysage_montagnard.37032.jpg"
                                alt="projet">
                        </a>
                    </div>
                    <div class="col-md-4 col-sm-6 portfolio-item">
                        <a class="portfolio-link">
                            <div class="portfolio-hover">
                                <div class="portfolio-hover-content">
                                    <i class="fa fa-chevron-down fa-3x"></i>
                                </div>
                            </div>
                            <img class="img-fluid" src="http://images.toucharger.com/img/graphiques/fonds_d_ecran/nature__paysages/en_ete/paysage_montagnard.37032.jpg"
                                alt="projet">
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- name: String,
  lastname: String,
  email: String,
  github: String,
  linkedin: String,
  lienlinkedin: String,
  image: String, -->
<div class="row mt-2 mb-2">
  <div class="offset-4">
    <button (click)="showEdit()" *ngIf="!edit">Edit</button>
    <button (click)="hiddenEdit()" *ngIf="edit">Cancel</button>
    <form *ngIf="me && (me.admin == true || me.roles.length >= 1)">
      <input type="button" value="Espace Admin" [routerLink]="['/admin']" />
    </form>
    <form *ngIf="me && (me.admin == false)">
      <input type="button" value="Mon Espace" [routerLink]="['/admin']" />
    </form>
  </div>
</div>

<div class="card" *ngIf="edit">
  <div class="card mb-3" *ngIf="!isLoading">
    <h4 class="card-header backgroundNav" *ngIf="me">{{ me.name }}</h4>
    <div class="card-body">
      <table class="table table-bordered">
        <!-- <thead class="thead-light">
          <tr>
            <th scope="col">Email</th>
            <th scope="col">Téléphone</th>
            <th scope="col">Github</th>
            <th scope="col">image Url</th>
            <th scope="col">Lien Linkedin</th>
          </tr>
        </thead> -->
        <tbody *ngIf="me.length === 0">
          <tr>
            <td colspan="4">Il n'y a pas de projet ajouter.</td>
          </tr>
        </tbody>
        <tbody *ngIf="me">
          <!-- <tr>
            <td>{{ me.email }} </td>
            <td>{{ me.phone }} </td>
            <td> {{ me.github }}</td>
            <td>
              <img class="imageUrl" src="{{ me.image }}" alt="Can't access">
            </td>
            <td>
              <a href="{{ me.lienLinkedin }}" target="_blank">{{ me.lienLinkedin }}</a>
            </td>
          </tr>
          <tr>
            <th scope="col">Linkedin</th>
            <th scope="col">Palmarès</th>
            <th scope="col">Poste</th>
            <th scope="col">Spécialités</th>
            <th scope="col">Modifier/Supprimer</th>
          </tr>
          <td>
            <td>{{ me.linkedin }}</td>
            <td>{{ me.poste }}</td>
            <td>{{ me.specialites }}</td> -->
          <!-- <td> 
            <button class="btn btn-sm btn-primary ml-2 mr-2" (click)="enableEditing(me)">
              <i class="fa fa-pencil"></i> Modifier</button>
            <button class="btn btn-sm btn-danger mr-2" (click)="deleteStudent(me)">
              <i class="fa fa-trash"></i> Supprimer</button> 
          </td> -->
        </tbody>
        <tbody *ngIf="isEditing">
          <tr>
            <td colspan="4" *ngIf="me">
              <form class="form" #form="ngForm" (ngSubmit)="editStudent(me)">
                <input class="form-control mr-2" type="text" name="email" [(ngModel)]="me.email" placeholder="Email" required>
                <input class="form-control mr-2" type="text" name="phone" [(ngModel)]="me.phone" placeholder="Téléphone">
                <input class="form-control mr-2" type="text" name="github" [(ngModel)]="me.github" placeholder="Nom Github" required>
                <input class="form-control mr-2" type="text" name="image" [(ngModel)]="me.image" placeholder="Photo de profil">
                <input class="form-control mr-2" type="text" name="langage" [(ngModel)]="me.langageName" placeholder="Framework">
                <input class="form-control mr-2" type="text" name="session" [(ngModel)]="me.session" placeholder="Session">
                <!-- <input class="form-control mr-2" type="text" name="poste" [(ngModel)]="me.poste" placeholder="Poste">
                <input class="form-control mr-2" type="text" name="specialites" [(ngModel)]="me.specialites" placeholder="spécialités"> -->
                <button class="btn btn-sm btn-primary mr-2" type="submit" [disabled]="!form.form.valid">
                  <i class="fa fa-floppy-o"></i> Save</button>
                <button class="btn btn-sm btn-warning" (click)="cancelEditing()">
                  <i class="fa fa-times"></i> Cancel</button>
              </form>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>